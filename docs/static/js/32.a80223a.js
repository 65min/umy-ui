(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{623:function(e,t,n){"use strict";n.r(t);var l={name:"component-exhibition",components:{"firm-demo0":(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e})({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[[n("div",[n("p",{staticStyle:{margin:"20px 0"}},[n("el-button",{on:{click:function(t){return e.setHei(400)}}},[e._v("设置高度为400")]),e._v(" "),n("el-button",{on:{click:function(t){return e.setHei(600)}}},[e._v("设置高度为600")]),e._v(" "),n("el-button",{on:{click:function(t){return e.setHei(800)}}},[e._v("设置高度为800")]),e._v(" "),n("el-button",{on:{click:function(t){return e.pagingScrollTopLeft(5e3)}}},[e._v("滚动y和x到5千位置")]),e._v(" "),n("el-button",{on:{click:function(t){return e.pagingScrollTopLeft(1e4)}}},[e._v("滚动y和x到1万位置")]),e._v(" "),n("el-button",{on:{click:function(t){return e.pagingScrollTopLeft(0)}}},[e._v("滚动y到顶部,x到左侧")]),e._v(" "),n("el-button",{on:{click:e.scrollBottom}},[e._v("滚动到底部位置")])],1),e._v(" "),n("ux-grid",{ref:"plxTable",attrs:{height:e.height,checkboxConfig:{checkMethod:e.selectable,highlight:!0},"show-header-overflow":"ellipsis"},on:{"selection-change":e.selectionChange,"table-body-scroll":e.scroll}},[n("ux-table-column",{attrs:{type:"checkbox",width:"80"}}),e._v(" "),n("ux-table-column",{attrs:{type:"index",width:"100"}}),e._v(" "),e._l(e.columns,(function(e){return n("ux-table-column",{key:e.id,attrs:{resizable:e.resizable,field:e.prop,title:e.label,sortable:e.sortable,width:e.width,fixed:e.fixed}})})),e._v(" "),n("ux-table-column",{attrs:{title:"额外信息",width:"60",field:"address"}})],2),e._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-button",{on:{click:function(t){return e.toggleSelection([e.datas[0],e.datas[2]])}}},[e._v("切换第一、第三行的选中状态")]),e._v(" "),n("el-button",{on:{click:function(t){return e.toggleSelection([e.datas[3]],"固定选中")}}},[e._v("选中第四行")]),e._v(" "),n("el-button",{on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")]),e._v(" "),n("p",{staticStyle:{margin:"20px 0"}},[n("el-button",{on:{click:function(t){return e.setData(3)}}},[e._v("变化数据为3条")]),e._v(" "),n("el-button",{on:{click:function(t){return e.setData(2e3)}}},[e._v("变化数据为2000条")]),e._v(" "),n("el-button",{on:{click:function(t){return e.setData(5e3)}}},[e._v("变化数据为5000条")]),e._v(" "),n("el-radio-group",{staticStyle:{"margin-left":"30px"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[n("el-radio",{attrs:{label:1}},[e._v("数据变化滚动到顶部")]),e._v(" "),n("el-radio",{attrs:{label:2}},[e._v("数据变化滚动不滚动到顶部")])],1)],1)],1)],1)]],2)},staticRenderFns:[]},{data:function(){return{height:0,columns:[],scrollTop:0,radio:1}},mounted:function(){var e=this;this.height=500,setTimeout((function(){var t=["name","sex","describe"];e.columns=Array.from({length:500},(function(e,n){return{prop:n>2?t[2]:t[n],id:n,label:n>2?t[2]:t[n],fixed:n<3?"left":"",width:200,sortable:1===n,resizable:!0}}));var n=Array.from({length:5e3},(function(e,t){return{id:t+1,name:"pl"+t,sex:t,describe:"欢迎使用plx"+t}}));e.datas=n,e.$refs.plxTable.reloadData(e.datas)}))},methods:{setHei:function(e){this.height=e},scroll:function(e){var t=e.scrollTop;e.scrollLeft,this.scrollTop=t},setData:function(e){this.datas=Array.from({length:e},(function(e,t){return{id:t+1,name:"pl"+t,sex:t,describe:"欢迎使用plx"+t}})),this.$refs.plxTable.reloadData(this.datas),2===this.radio&&this.$refs.plxTable.pagingScrollTopLeft(this.scrollTop)},selectable:function(e){return 2!==e.row.id},toggleSelection:function(e,t){var n=this;e?e.forEach((function(e){"固定选中"===t?n.$refs.plxTable.toggleRowSelection([{row:e,selected:!0}]):n.$refs.plxTable.toggleRowSelection([{row:e}])})):this.$refs.plxTable.clearSelection()},pagingScrollTopLeft:function(e){this.$refs.plxTable.pagingScrollTopLeft(e,e)},scrollBottom:function(){this.$refs.plxTable.scrollToRow(this.datas[this.datas.length-1])},selectionChange:function(e){console.log(e)}}})}},o=n(34),i=Object(o.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),t("p",[this._v("大数据不建议使用双向绑定的 data 属性（vue 监听会大数据会短暂的卡顿），建议使用reloadData函数 。")]),t("div",[this._m(1),t("template",{slot:"source"},[t("firm-demo0")],1),t("template",{slot:"highlight"},[this._m(2)])],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"lie-he-xing-tong-shi-xu-ni-jie-jue-duo-xing-lie-duo-qing-kuang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lie-he-xing-tong-shi-xu-ni-jie-jue-duo-xing-lie-duo-qing-kuang"}},[this._v("¶")]),this._v(" 列和行同时虚拟(解决多行列多情况)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("多行多列，你可以使用ux-grid哦  注：如果要启用横向虚拟滚动，不支持分组表头 。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{pre:!0},[t("code",{pre:!0,attrs:{class:"html"}},[this._v('  <template>\n   <div>\n     <p style="margin: 20px 0;">\n          <el-button @click="setHei(400)">设置高度为400</el-button>\n          <el-button @click="setHei(600)">设置高度为600</el-button>\n          <el-button @click="setHei(800)">设置高度为800</el-button>\n          <el-button @click="pagingScrollTopLeft(5000)">滚动y和x到5千位置</el-button>\n          <el-button @click="pagingScrollTopLeft(10000)">滚动y和x到1万位置</el-button>\n          <el-button @click="pagingScrollTopLeft(0)">滚动y到顶部,x到左侧</el-button>\n          <el-button @click="scrollBottom">滚动到底部位置</el-button>\n     </p>\n     <ux-grid\n             ref="plxTable"\n             :height="height"\n             :checkboxConfig="{checkMethod: selectable, highlight: true}"\n             @selection-change="selectionChange"\n             @table-body-scroll="scroll"\n             show-header-overflow="ellipsis">\n         <ux-table-column type="checkbox" width="80"/>\n         <ux-table-column type="index" width="100"/>\n         <ux-table-column\n                 v-for="item in columns"\n                 :key="item.id"\n                 :resizable="item.resizable"\n                 :field="item.prop"\n                 :title="item.label"\n                 :sortable="item.sortable"\n                 :width="item.width"\n                 :fixed="item.fixed"/>\n         <ux-table-column title="额外信息" width="60" field="address"></ux-table-column>\n     </ux-grid>\n     <div style="margin-top: 20px">\n         <el-button @click="toggleSelection([datas[0], datas[2]])">切换第一、第三行的选中状态</el-button>\n         <el-button @click="toggleSelection([datas[3]], \'固定选中\')">选中第四行</el-button>\n        <el-button @click="toggleSelection()">取消选择</el-button>\n      <p style="margin: 20px 0;">\n            <el-button @click="setData(3)">变化数据为3条</el-button>\n            <el-button @click="setData(2000)">变化数据为2000条</el-button>\n            <el-button @click="setData(5000)">变化数据为5000条</el-button>\n            <el-radio-group v-model="radio" style="margin-left:30px">\n               <el-radio :label="1">数据变化滚动到顶部</el-radio>\n               <el-radio :label="2">数据变化滚动不滚动到顶部</el-radio>\n             </el-radio-group>\n       </p>\n      </div>\n   </div>\n </template>\n\n  <script>\n    export default {\n      data() {\n        return {\n          height: 0,\n          columns: [],\n          scrollTop: 0,\n          radio: 1\n        }\n      },\n      mounted () {\n          this.height = 500 // 动态设置高度\n          // 异步设置数据，这样解决初次进来不卡，由于加载数据很大啦，你没必要这样做哦\n           setTimeout(() => {\n              let col = [\'name\', \'sex\', \'describe\']\n              this.columns = Array.from({ length: 500 }, (_, idx) => ({\n                      prop: idx > 2 ? col[2] : col[idx],\n                      id: idx,\n                      label: idx > 2 ? col[2] : col[idx],\n                      fixed: idx < 3 ? \'left\' : \'\',\n                      width: 200,\n                      sortable: idx === 1,\n                      resizable: true\n              }))\n              const data = Array.from({ length: 5000 }, (_, idx) => ({\n                   id: idx + 1,\n                   name: \'pl\' + idx,\n                   sex: idx,\n                   describe: \'欢迎使用plx\' + idx\n              }))\n              this.datas = data // 知道为啥datas不在 data()方法里面定义吗？嘻嘻\n              this.$refs.plxTable.reloadData(this.datas)\n           })\n      },\n      methods: {\n       setHei (val) {\n         this.height = val\n       },\n       scroll ({scrollTop, scrollLeft}) {\n         this.scrollTop = scrollTop\n       },\n       setData (num) {\n          this.datas = Array.from({ length: num }, (_, idx) => ({\n               id: idx + 1,\n               name: \'pl\' + idx,\n               sex: idx,\n               describe: \'欢迎使用plx\' + idx\n          }))\n          this.$refs.plxTable.reloadData(this.datas)\n          // 默认是数据变化滚动到顶部，这里需要手动滚动之前位置\n          if (this.radio === 2) {\n              this.$refs.plxTable.pagingScrollTopLeft(this.scrollTop)\n          }\n       },\n        selectable ({row}) {\n            return row.id !== 2\n        },\n         toggleSelection(rows, type) {\n          if (rows) {\n            rows.forEach(row => {\n              // 注意： 勾选方法与element不同哦\n              // this.$refs.plxTable.toggleRowSelection(row); // element表格是这样写的\n              // 我们得这样写\n\n              // 如果是固定选中\n              if (type === \'固定选中\') {\n              // toggleRowSelection方法参数不懂得去看文档api哦\n                this.$refs.plxTable.toggleRowSelection([\n                   {\n                     row: row,\n                     selected: true\n                   }\n                ])\n               // 下面这是切换选中\n              } else {\n                this.$refs.plxTable.toggleRowSelection([\n                   {\n                     row: row\n                   }\n                ])\n              }\n            });\n          } else {\n            this.$refs.plxTable.clearSelection();\n          }\n        },\n        pagingScrollTopLeft (val) {\n           this.$refs.plxTable.pagingScrollTopLeft(val, val)\n        },\n        scrollBottom () {\n           this.$refs.plxTable.scrollToRow(this.datas[this.datas.length - 1])\n        },\n        // 选中的行\n        selectionChange (row) {\n          console.log(row)\n         }\n      }\n    }\n  <\/script>\n')])])}],!1,null,null,null);t.default=i.exports}}]);